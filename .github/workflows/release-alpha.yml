name: Manual trigger

on:
  workflow_dispatch:
    inputs:
      name:
        description: 'Release alpha'

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v1
      - run: npm ci
      - uses: nelonoel/branch-name@v1
      # Use branch name for whatever purpose
      - run: echo ${BRANCH_NAME}
      - uses: gravity-ui/release-action@v1
        with:
          github-token: ${{ secrets.GRAVITY_UI_BOT_GITHUB_TOKEN }}
          npm-token: ${{ secrets.GRAVITY_UI_BOT_NPM_TOKEN }}
          node-version: 14
          npm-dist-tag: alpha
          default-branch: ${BRANCH_NAME}
